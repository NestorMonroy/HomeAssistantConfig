---
type: custom:stack-in-card
cards:
  - type: custom:mushroom-template-card
    primary: Untappd - Project 52
    icon: mdi:beer-outline
    icon_color: blue
    card_mod:
      style: |
        ha-card {
          box-shadow: none !important;
        }
  - type: entities
    show_header_toggle: false
    state_color: true
    card_mod:
      style: |
        #states {
          padding-top: 0 !important;
        }
        #states > * {
          margin: 0 !important;
        }
    entities:
      - type: custom:template-entity-row
        entity: sensor.untappd_project_52
        icon: mdi:beer-outline
        name: Beers Drunk
        state: >
          {{ state_attr(config.entity, 'count') }} Beers
      - type: custom:template-entity-row
        entity: sensor.untappd_project_52
        icon: mdi:beer-outline
        name: Beers from Target
        state: >
          {{ state_attr(config.entity, 'target') }} Beers
      - type: section
      - type: custom:template-entity-row
        entity: sensor.untappd_project_52
        icon: mdi:beer-outline
        name: Average Rating
        state: >
          {{ state_attr(config.entity, 'rating_average') }} / 5
      - type: custom:template-entity-row
        entity: sensor.untappd_project_52
        icon: mdi:beer-outline
        name: Maximum Rating
        state: >
          {{ state_attr(config.entity, 'rating_maximum') }} / 5
      - type: custom:template-entity-row
        entity: sensor.untappd_project_52
        icon: mdi:beer-outline
        name: Minimum Rating
        state: >
          {{ state_attr(config.entity, 'rating_minimum') }} / 5
      - type: custom:fold-entity-row
        head:
          type: custom:template-entity-row
          name: Project 52 Beers
          icon: mdi:beer-outline
          state: >
            {{state_attr('sensor.untappd_project_52',
            'data')[0].beer_name }}
        padding: 0
        entities:
          - type: custom:hui-element
            card_type: custom:flex-table-card
            entities:
              include: sensor.untappd_project_52
            css:
              table+: "border-collapse: collapse; padding: 0px;"
            columns:
              - name: Check-In
                data: data
                modify: x.first_checkin
              - name: Beer
                data: data
                modify: >-
                  { x.beer_name + "<br/><i>" + x.brewery + " (" + x.brewery_country
                  + ")</i>"}
              - name: Style
                data: data
                modify: '{ x.beer_style + "<br/>" + x.beer_abv + "%" }'
              - name: /5
                data: data
                modify: parseFloat(x.rating).toFixed(2)
            card_mod:
              style: |
                ha-card {
                  background: none;
                  border: 0;
                  box-shadow: none;
                  overflow: auto;
                  padding-top: 5px;
                  font-size: 12px;
                }

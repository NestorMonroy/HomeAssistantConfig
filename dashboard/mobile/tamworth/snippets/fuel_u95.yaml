---
type: vertical-stack
cards:
  - type: custom:stack-in-card
    mode: vertical
    cards:
      - type: entities
        title: Unleaded 95
        style: |
          .card-header {
            padding: 5px 16px;
            font-size: 18px;
            font-weight: 700 !important;
          }
          .card-content div {
              margin: 0 !important;
          }
          #states {
            padding-top: 0px !important;
            padding-bottom: 0px !important;
          }
          .secondary {
            color: darkgray !important;
            margin-left: 2px !important;
          }
        entities:
          - entity: sensor.tamworth_fuel_average_ulp95
            name: Unleaded 95 (Tamworth Average)
          - type: custom:auto-entities
            filter:
              include:
                - entity_id: "*p95*"
                  options:
                    secondary_info: last-changed
              exclude:
                - entity_id: sensor.tamworth_fuel_average_ulp95
            sort:
              method: state
            card:
              type: custom:fold-entity-row
              head:
                label: Individual Service Stations
                type: section
      - type: custom:plotly-graph
        entities:
          - entity: sensor.tamworth_fuel_average_ulp95
            name: Average
            legendgroup: 1
          - entity: sensor.tamworth_fuel_average_ulp95
            attribute: max
            name: Max
            legendgroup: 2
          - entity: sensor.tamworth_fuel_average_ulp95
            attribute: min
            name: Min
            legendgroup: 3
        hours_to_show: 1w
        refresh_interval: auto
        defaults:
          entity:
            connectgaps: true
            legendgroup: 1
            filters:
              - force_numeric
              - resample: 1h
            texttemplate: <b>%{y:,.1f}</b>
            show_value: true
            line:
              width: 3
              shape: spline
        layout:
          showlegend: true
          height: 250
          margin:
            autoexpand: true
            l: 30
            r: 30
          xaxis:
            autorange: true
            showline: true
            showgrid: false
            tickformat: '%a'
            showticklabels: true
            linecolor: rgb(204,204,204)
            linewidth: 2
            autotick: false
            ticks: outside
            tickwidth: 2
            ticklen: 5
            tickfont:
              family: Roboto
              size: 12
              color: rgb(204,204,204)
          yaxis:
            title: ''
            autorange: true
            zeroline: true
            fixedrange: true
            linecolor: rgb(204,204,204)
            linewidth: 2
            tickfont:
              family: Roboto
              size: 12
              color: rgb(204,204,204)
          dragmode: false
        config:
          scrollZoom: false


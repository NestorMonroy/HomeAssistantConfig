---
type: grid
columns: 1
square: false
cards:
  - type: vertical-stack
    cards:
      - type: custom:button-card
        template: header_card
        variables:
          name: >
            <ha-icon style='--mdc-icon-size: var(--h4-font-size)'
            icon='mdi:docker'></ha-icon> DOCKER
          label: More
          link: /ui-dashboard/docker
        view_layout:
          grid-column: 1/-1
        card_mod:
          style: |
            ha-card {
              box-shadow: none;
            }
      - type: grid
        square: false
        columns: 3
        cards:
          - type: custom:mushroom-template-card
            primary: "{{state_attr(entity, 'containers_running')}}"
            secondary: |-
              Containers
              Running
            icon: mdi:docker
            entity: sensor.stats_docker
            layout: vertical
            fill_container: true
            icon_color: ""
            tap_action:
              action: none
            hold_action:
              action: none
            double_tap_action:
              action: none
            multiline_secondary: true
            card_mod:
              style: |
                :host {
                  --mush-card-primary-font-size: 18px;
                  --mush-card-secondary-font-size: 14px;
                }
          - type: custom:mushroom-template-card
            primary: "{{state_attr(entity, 'containers_stopped')}}"
            secondary: |-
              Containers
              Stopped
            icon: mdi:docker
            entity: sensor.stats_docker
            layout: vertical
            fill_container: true
            icon_color: ""
            tap_action:
              action: none
            hold_action:
              action: none
            double_tap_action:
              action: none
            multiline_secondary: true
            card_mod:
              style: |
                :host {
                  --mush-card-primary-font-size: 18px;
                  --mush-card-secondary-font-size: 14px;
                }
          - type: custom:mushroom-template-card
            primary: "{{state_attr(entity, 'containers_updatable')}}"
            secondary: |-
              Containers
              To Update
            icon: mdi:docker
            entity: sensor.stats_docker
            layout: vertical
            fill_container: true
            icon_color: ""
            tap_action:
              action: none
            hold_action:
              action: none
            double_tap_action:
              action: none
            multiline_secondary: true
            card_mod:
              style: |
                :host {
                  --mush-card-primary-font-size: 18px;
                  --mush-card-secondary-font-size: 14px;
                }
  - type: vertical-stack
    cards:
      - type: custom:button-card
        template: header_card
        variables:
          name: >
            <ha-icon style='--mdc-icon-size: var(--h4-font-size)'
            icon='mdi:airplane-alert'></ha-icon> FLIGHT TRACKER
          label: More
          link: /ui-dashboard/docker
        view_layout:
          grid-column: 1/-1
        card_mod:
          style: |
            ha-card {
              box-shadow: none;
            }
      - type: custom:decluttering-card
        template: mushroom_entity_graph
        variables:
          - entity: sensor.flighttracker_aircraft_total
          - colour: green
          - title: Bird Watch - Flights Overhead
          - line_width: 3
          - icon: mdi:airplane-alert
      - type: custom:mushroom-template-card
        primary: Bird Watch - Closest Plane
        secondary: |-
          {{states(entity)}}, {{state_attr(entity, 'aircraft_rego')}} ({{state_attr('sensor.plane_overhead', 'distance')}} km away)
          {{state_attr(entity, 'aircraft_owner')}} - {{state_attr(entity, 'aircraft')}}
          {{state_attr(entity, 'origin_airport')}} > {{state_attr(entity, 'destination_airport')}}
        icon: mdi:airplane
        entity: sensor.plane_overhead_detail
        icon_color: green
        fill_container: true
        multiline_secondary: true
        tap_action:
          action: none
        hold_action:
          action: none
        double_tap_action:
          action: none
      - type: custom:mushroom-template-card
        primary: Bird Watch - Latest Aircraft of Interest
        secondary: >-
          {{state_attr(entity, 'name')}} ({{state_attr(entity, 'tail')}}, {{state_attr(entity, 'call')}})

          {{state_attr(entity, 'equipment')}} ({{state_attr(entity, 'date')}}, {{state_attr(entity, 'time')}})
        icon: mdi:airplane-alert
        entity: sensor.flighttracker_planefence_aircraft
        icon_color: green
        fill_container: true
        multiline_secondary: true
        tap_action:
          action: none
        hold_action:
          action: none
        double_tap_action:
          action: none

  - type: vertical-stack
    cards:
      - type: custom:button-card
        template: header_card
        variables:
          name: >
            <ha-icon style='--mdc-icon-size: var(--h4-font-size)'
            icon='mdi:football'></ha-icon> UPCOMING SPORT
          label: More
          link: /ui-dashboard/docker
        view_layout:
          grid-column: 1/-1
        card_mod:
          style: |
            ha-card {
              box-shadow: none;
            }
      - square: false
        columns: 2
        type: grid
        cards:
          - type: custom:mushroom-entity-card
            entity: sensor.stats_sport_upcoming_today
            layout: vertical
            tap_action:
              action: none
            hold_action:
              action: none
            double_tap_action:
              action: none
            secondary_info: name
            primary_info: state
            name: Today
            icon_color: green
            card_mod:
              style: |
                :host {
                  --mush-card-primary-font-size: 18px;
                  --mush-card-secondary-font-size: 14px;
                }
          - type: custom:mushroom-entity-card
            entity: sensor.stats_sport_upcoming_thisweek
            name: This Week
            fill_container: false
            icon_color: yellow
            layout: vertical
            tap_action:
              action: none
            hold_action:
              action: none
            double_tap_action:
              action: none
            primary_info: state
            secondary_info: name
            card_mod:
              style: |
                :host {
                  --mush-card-primary-font-size: 18px;
                  --mush-card-secondary-font-size: 14px;
                }
      - type: custom:auto-entities
        sort:
          method: attribute
          attribute: sortorder
        card_param: cards
        filter:
          template: >-
            {% for s in states|selectattr('entity_id','search','sensor.sport_') |
            selectattr("attributes.sortorder", "<=", 7) |
            sort(attribute="attributes.sortorder")  -%}
              {{
                {
                  "type": "custom:mushroom-template-card",
                  "primary": "{{ state_attr(entity, \"friendly_name\") }}",
                  "multiline_secondary": true,
                  "secondary": "{{ state_attr(entity, \"nextevent\") }} ({{ state_attr(entity, \"nexttime\") }})\n{{ state_attr(entity, \"nexteventafter\") }}",
                  "entity": s.entity_id,
                  "badge_icon": "{%- if is_state_attr(entity, 'nexttime', 'On Now!') %} mdi:clock {%- endif %}",
                  "icon": "{{ state_attr(entity, \"icon\") }}",
                  "badge_color": "green",
                  "tap_action": "none",
                  "card_mod": {
                    "style": {
                      "mushroom-state-info$": ".primary {\n  font-size: 16px !important;\n  white-space: normal !important;\n}\n.secondary {\n  font-size: 15px !important;\n}\n",
                      ".": "ha-card:before {\n  content: \"\";\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  right: 5px;\n  background: url( {{ state_attr(config.entity, \"entity_picture\") }} ) center no-repeat, linear-gradient(to left, transparent, var(--background-color) 50%);\n  background-repeat: no-repeat;\n  background-size: auto 100%, cover;\n  background-position: right;\n  background-blend-mode: saturation;\n  filter: opacity(0.25);\n}\nha-card {\n  background: none;\n  box-shadow: none;\n}\n"
                    }
                  }
                }
              }},
            {%- endfor %}
        show_empty: false
        card:
          type: custom:swipe-card
          parameters:
            direction: vertical
            autoHeight: true
            height: 112
            effect: cube
            autoplay:
              delay: 2000
            cubeEffect:
              - slideShadows: false

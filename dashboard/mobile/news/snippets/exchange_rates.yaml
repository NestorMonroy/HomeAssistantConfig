---
type: custom:stack-in-card
cards:
  - type: grid
    square: false
    columns: 1
    cards:
      - type: custom:mushroom-template-card
        primary: Exchange Rates
        icon: mdi:currency-usd
        icon_color: blue
        fill_container: true

  - type: entities
    card_mod:
      style:
        fold-entity-row$: |
          ha-icon {
            color: rgb(var(--rgb-disabled-color));
            margin-right: 24px;
          }
        hui-section-row $: |
          .divider { display: none; }
        .: |
          .card-content {
            padding: 0;
          }
    entities:
      - type: custom:fold-entity-row
        head:
          type: custom:stack-in-card
          mode: horizontal
          card_mod:
            style: |
              ha-card {
                border: 0;
                box-shadow: none;
              }
          cards:
            - type: custom:mushroom-template-card
              entity: sensor.yahoofinance_audeur_x
              primary: "{{state_attr(entity, 'symbol')}}"
              secondary: "{{state_attr(entity, 'friendly_name')}}"
              icon: '{{state_attr(entity,"icon")}}'
              icon_color: >
                {% if state_attr(entity, 'trending') == "up" %}green{% else %}red{%
                endif %}
              card_mod:
                style: |
                  ha-card {
                    border: 0;
                    box-shadow: none;
                  }
            - type: custom:mushroom-template-card
              entity: sensor.yahoofinance_audeur_x
              primary: |
                {{states(entity)}}
              tap_action:
                action: more-info
              secondary: |
                {% if state_attr(entity, 'trending') == "up" %}+{% endif
                %}{{state_attr(entity,'regularMarketChangePercent')}}%
              card_mod:
                style:
                  mushroom-state-info$: |
                    * {
                      text-align: end;
                    }
                  .: |
                    ha-card {
                      margin: 3px 8px 0px 0px;
                      border: 0;
                      box-shadow: none;
                      --secondary-text-color: {% if state_attr(config.entity, 'trending') == "up" %}rgba(var(--rgb-green)){% else %}rgba(var(--rgb-red)){% endif %};
                    }
        padding: 0
        entities:
          - type: custom:plotly-graph
            entities:
              - entity: sensor.yahoofinance_audeur_x
            hours_to_show: 1w
            refresh_interval: auto
            defaults:
              entity:
                connectgaps: true
                legendgroup: 1
                filters:
                  - force_numeric
                  - resample: 30m
                texttemplate: <b>%{y:,.3f}</b>
                show_value: true
                line:
                  width: 2
            layout:
              showlegend: false
              height: 300
              margin:
                autoexpand: true
                l: 45
                r: 30
              xaxis:
                autorange: true
                showline: true
                showgrid: false
                tickformat: "%a"
                showticklabels: true
                linecolor: rgb(204,204,204)
                linewidth: 2
                autotick: false
                ticks: outside
                tickwidth: 2
                ticklen: 5
                tickfont:
                  family: Roboto
                  size: 12
                  color: rgb(204,204,204)
              yaxis:
                title: ""
                autorange: true
                zeroline: true
                fixedrange: true
                linecolor: rgb(204,204,204)
                linewidth: 2
                tickfont:
                  family: Roboto
                  size: 12
                  color: rgb(204,204,204)
              dragmode: false
            config:
              scrollZoom: false

  - type: custom:mushroom-template-card
    card_mod:
      style: |
        ha-card {
          margin: -25px 0px 0px 66px;
          border: 0;
          border-bottom: solid 2px rgba(var(--rgb-disabled), 0.2);
        }

  - type: entities
    card_mod:
      style:
        fold-entity-row$: |
          ha-icon {
            color: rgb(var(--rgb-disabled-color));
            margin-right: 24px;
          }
        hui-section-row $: |
          .divider { display: none; }
        .: |
          .card-content {
            padding: 0;
          }
    entities:
      - type: custom:fold-entity-row
        head:
          type: custom:stack-in-card
          mode: horizontal
          card_mod:
            style: |
              ha-card {
                border: 0;
                box-shadow: none;
              }
          cards:
            - type: custom:mushroom-template-card
              entity: sensor.yahoofinance_audgbp_x
              primary: "{{state_attr(entity, 'symbol')}}"
              secondary: "{{state_attr(entity, 'friendly_name')}}"
              icon: '{{state_attr(entity,"icon")}}'
              icon_color: >
                {% if state_attr(entity, 'trending') == "up" %}green{% else %}red{%
                endif %}
              card_mod:
                style: |
                  ha-card {
                    border: 0;
                    box-shadow: none;
                  }
            - type: custom:mushroom-template-card
              entity: sensor.yahoofinance_audgbp_x
              primary: |
                {{states(entity)}}
              tap_action:
                action: more-info
              secondary: |
                {% if state_attr(entity, 'trending') == "up" %}+{% endif
                %}{{state_attr(entity,'regularMarketChangePercent')}}%
              card_mod:
                style:
                  mushroom-state-info$: |
                    * {
                      text-align: end;
                    }
                  .: |
                    ha-card {
                      margin: 3px 8px 0px 0px;
                      border: 0;
                      box-shadow: none;
                      --secondary-text-color: {% if state_attr(config.entity, 'trending') == "up" %}rgba(var(--rgb-green)){% else %}rgba(var(--rgb-red)){% endif %};
                    }
        padding: 0
        entities:
          - type: custom:plotly-graph
            entities:
              - entity: sensor.yahoofinance_audgbp_x
            hours_to_show: 1w
            refresh_interval: auto
            defaults:
              entity:
                connectgaps: true
                legendgroup: 1
                filters:
                  - force_numeric
                  - resample: 30m
                texttemplate: <b>%{y:,.3f}</b>
                show_value: true
                line:
                  width: 2
            layout:
              showlegend: false
              height: 300
              margin:
                autoexpand: true
                l: 45
                r: 30
              xaxis:
                autorange: true
                showline: true
                showgrid: false
                tickformat: "%a"
                showticklabels: true
                linecolor: rgb(204,204,204)
                linewidth: 2
                autotick: false
                ticks: outside
                tickwidth: 2
                ticklen: 5
                tickfont:
                  family: Roboto
                  size: 12
                  color: rgb(204,204,204)
              yaxis:
                title: ""
                autorange: true
                zeroline: true
                fixedrange: true
                linecolor: rgb(204,204,204)
                linewidth: 2
                tickfont:
                  family: Roboto
                  size: 12
                  color: rgb(204,204,204)
              dragmode: false
            config:
              scrollZoom: false

  - type: custom:mushroom-template-card
    card_mod:
      style: |
        ha-card {
          margin: -25px 0px 0px 66px;
          border: 0;
          border-bottom: solid 2px rgba(var(--rgb-disabled), 0.2);
        }

  - type: entities
    card_mod:
      style:
        fold-entity-row$: |
          ha-icon {
            color: rgb(var(--rgb-disabled-color));
            margin-right: 24px;
          }
        hui-section-row $: |
          .divider { display: none; }
        .: |
          .card-content {
            padding: 0;
          }
    entities:
      - type: custom:fold-entity-row
        head:
          type: custom:stack-in-card
          mode: horizontal
          card_mod:
            style: |
              ha-card {
                border: 0;
                box-shadow: none;
              }
          cards:
            - type: custom:mushroom-template-card
              entity: sensor.yahoofinance_audnzd_x
              primary: "{{state_attr(entity, 'symbol')}}"
              secondary: "{{state_attr(entity, 'friendly_name')}}"
              icon: '{{state_attr(entity,"icon")}}'
              icon_color: >
                {% if state_attr(entity, 'trending') == "up" %}green{% else %}red{%
                endif %}
              card_mod:
                style: |
                  ha-card {
                    border: 0;
                    box-shadow: none;
                  }
            - type: custom:mushroom-template-card
              entity: sensor.yahoofinance_audnzd_x
              primary: |
                {{states(entity)}}
              tap_action:
                action: more-info
              secondary: |
                {% if state_attr(entity, 'trending') == "up" %}+{% endif
                %}{{state_attr(entity,'regularMarketChangePercent')}}%
              card_mod:
                style:
                  mushroom-state-info$: |
                    * {
                      text-align: end;
                    }
                  .: |
                    ha-card {
                      margin: 3px 8px 0px 0px;
                      border: 0;
                      box-shadow: none;
                      --secondary-text-color: {% if state_attr(config.entity, 'trending') == "up" %}rgba(var(--rgb-green)){% else %}rgba(var(--rgb-red)){% endif %};
                    }
        padding: 0
        entities:
          - type: custom:plotly-graph
            entities:
              - entity: sensor.yahoofinance_audnzd_x
            hours_to_show: 1w
            refresh_interval: auto
            defaults:
              entity:
                connectgaps: true
                legendgroup: 1
                filters:
                  - force_numeric
                  - resample: 30m
                texttemplate: <b>%{y:,.3f}</b>
                show_value: true
                line:
                  width: 2
            layout:
              showlegend: false
              height: 300
              margin:
                autoexpand: true
                l: 45
                r: 30
              xaxis:
                autorange: true
                showline: true
                showgrid: false
                tickformat: "%a"
                showticklabels: true
                linecolor: rgb(204,204,204)
                linewidth: 2
                autotick: false
                ticks: outside
                tickwidth: 2
                ticklen: 5
                tickfont:
                  family: Roboto
                  size: 12
                  color: rgb(204,204,204)
              yaxis:
                title: ""
                autorange: true
                zeroline: true
                fixedrange: true
                linecolor: rgb(204,204,204)
                linewidth: 2
                tickfont:
                  family: Roboto
                  size: 12
                  color: rgb(204,204,204)
              dragmode: false
            config:
              scrollZoom: false

  - type: entities
    card_mod:
      style:
        fold-entity-row$: |
          ha-icon {
            color: rgb(var(--rgb-disabled-color));
            margin-right: 24px;
          }
        hui-section-row $: |
          .divider { display: none; }
        .: |
          .card-content {
            padding: 0;
          }
    entities:
      - type: custom:fold-entity-row
        head:
          type: custom:stack-in-card
          mode: horizontal
          card_mod:
            style: |
              ha-card {
                border: 0;
                box-shadow: none;
              }
          cards:
            - type: custom:mushroom-template-card
              entity: sensor.yahoofinance_audusd_x
              primary: "{{state_attr(entity, 'symbol')}}"
              secondary: "{{state_attr(entity, 'friendly_name')}}"
              icon: '{{state_attr(entity,"icon")}}'
              icon_color: >
                {% if state_attr(entity, 'trending') == "up" %}green{% else %}red{%
                endif %}
              card_mod:
                style: |
                  ha-card {
                    border: 0;
                    box-shadow: none;
                  }
            - type: custom:mushroom-template-card
              entity: sensor.yahoofinance_audusd_x
              primary: |
                {{states(entity)}}
              tap_action:
                action: more-info
              secondary: |
                {% if state_attr(entity, 'trending') == "up" %}+{% endif
                %}{{state_attr(entity,'regularMarketChangePercent')}}%
              card_mod:
                style:
                  mushroom-state-info$: |
                    * {
                      text-align: end;
                    }
                  .: |
                    ha-card {
                      margin: 3px 8px 0px 0px;
                      border: 0;
                      box-shadow: none;
                      --secondary-text-color: {% if state_attr(config.entity, 'trending') == "up" %}rgba(var(--rgb-green)){% else %}rgba(var(--rgb-red)){% endif %};
                    }
        padding: 0
        entities:
          - type: custom:plotly-graph
            entities:
              - entity: sensor.yahoofinance_audusd_x
            hours_to_show: 1w
            refresh_interval: auto
            defaults:
              entity:
                connectgaps: true
                legendgroup: 1
                filters:
                  - force_numeric
                  - resample: 30m
                texttemplate: <b>%{y:,.3f}</b>
                show_value: true
                line:
                  width: 2
            layout:
              showlegend: false
              height: 300
              margin:
                autoexpand: true
                l: 45
                r: 30
              xaxis:
                autorange: true
                showline: true
                showgrid: false
                tickformat: "%a"
                showticklabels: true
                linecolor: rgb(204,204,204)
                linewidth: 2
                autotick: false
                ticks: outside
                tickwidth: 2
                ticklen: 5
                tickfont:
                  family: Roboto
                  size: 12
                  color: rgb(204,204,204)
              yaxis:
                title: ""
                autorange: true
                zeroline: true
                fixedrange: true
                linecolor: rgb(204,204,204)
                linewidth: 2
                tickfont:
                  family: Roboto
                  size: 12
                  color: rgb(204,204,204)
              dragmode: false
            config:
              scrollZoom: false

---
type: vertical-stack
cards:
  - type: custom:mushroom-title-card
    title: Menu
    title_tap_action:
      action: none
    subtitle_tap_action:
      action: none
    subtitle: ""
  - type: custom:layout-card
    layout_type: custom:grid-layout
    layout:
      grid-template-columns: 100%
    cards:
      # Media (TV/Movies)
      - type: custom:vertical-stack-in-card
        cards:
          - type: custom:swipe-card
            parameters:
              spaceBetween: 8
            cards:
              - type: custom:mushroom-template-card
                primary: Media (TV/Movies)
                icon: mdi:television
                layout: horizontal
                tap_action:
                  action: navigate
                  navigation_path: tv-movies
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {
                      --ha-card-border-width: 0;
                    }
              - type: custom:vertical-stack-in-card
                horizontal: true
                cards:
                  - type: custom:mushroom-template-card
                    primary: ""
                    secondary: ""
                    layout: vertical
                    icon: |-
                      {% if is_state(config.entity, "playing") %}
                        mdi:speaker
                      {% else %}
                        mdi:speaker
                      {% endif%}
                    entity: media_player.bluesound_vardagsrum
                    icon_color: |-
                      {% if is_state(config.entity, "playing") %}
                        indigo
                      {% else %}
                        grey
                      {% endif%}
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          {% if is_state(config.entity,'playing') %}
                              background: rgba(var(--rgb-light-green),0.2);
                          {% else %}
                              background: rgba(var(--rgb-disabled),0.2);
                          {% endif %}
                        }
                  - type: custom:mushroom-template-card
                    primary: ""
                    secondary: ""
                    layout: vertical
                    icon: |-
                      {% if is_state(config.entity, "on") %}
                        mdi:power-socket-de
                      {% else %}
                        mdi:power-socket-de
                      {% endif%}
                    entity: switch.vardagsrumsfonster_switch
                    icon_color: |-
                      {% if is_state(config.entity, "on") %}
                        green
                      {% else %}
                        grey
                      {% endif%}
                    tap_action:
                      action: toggle
                    card_mod:
                      style: |
                        ha-card {
                          {% if is_state(config.entity,'on') %}
                              background: rgba(var(--rgb-green),0.1);
                          {% else %}
                              background: rgba(var(--rgb-disabled),0.1);
                          {% endif %}
                        }
                card_mod:
                  style: |
                    ha-card {
                      --ha-card-border-width: 0;
                    }

      # Solar
      - type: custom:vertical-stack-in-card
        cards:
          - type: custom:swipe-card
            parameters:
              spaceBetween: 8
            cards:
              - type: custom:mushroom-template-card
                primary: Solar
                icon: mdi:solar-power-variant
                layout: horizontal
                tap_action:
                  action: navigate
                  navigation_path: solar
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {
                      --ha-card-border-width: 0;
                    }
              - type: custom:vertical-stack-in-card
                horizontal: true
                cards:
                  - type: custom:mushroom-template-card
                    primary: ""
                    secondary: ""
                    layout: vertical
                    icon: |-
                      {% if is_state(config.entity, "playing") %}
                        mdi:speaker
                      {% else %}
                        mdi:speaker
                      {% endif%}
                    entity: media_player.bluesound_biorum
                    icon_color: |-
                      {% if is_state(config.entity, "playing") %}
                        indigo
                      {% else %}
                        grey
                      {% endif%}
                    tap_action:
                      action: more-info
                    card_mod:
                      style: |
                        ha-card {
                          {% if is_state(config.entity,'playing') %}

      # Sport
      - type: custom:mushroom-template-card
        primary: Sport
        secondary: >
          {{
          states|selectattr('entity_id','search','sensor.sport_')|selectattr("attributes.sortorder",
          "<=", 7)|list|count }} This Week
        multiline_secondary: true
        icon: mdi:football-australian
        icon_color: >-
          {% if
          states|selectattr('entity_id','search','sensor.sport_')|selectattr("attributes.sortorder",
          "<=", 0)|list|count > 0 %}
            green
          {% else %}
            grey
          {% endif%}
        layout: horizontal
        tap_action:
          action: navigate
          navigation_path: sport
        hold_action:
          action: none
        double_tap_action:
          action: none
        card_mod:
          style:
            mushroom-state-info$: |
              .container {
                display: table !important;
              }
              .secondary {
                display: table-cell;
                text-align: right;
                width: 100%;
              }

      # Tamworth
      - type: custom:mushroom-template-card
        primary: Tamworth
        secondary: ""
        multiline_secondary: true
        icon: mdi:city
        icon_color: grey
        layout: horizontal
        tap_action:
          action: navigate
          navigation_path: tamworth
        hold_action:
          action: none
        double_tap_action:
          action: none
        card_mod:
          style:
            mushroom-state-info$: |
              .container {
                display: table !important;
              }
              .secondary {
                display: table-cell;
                text-align: right;
                width: 100%;
              }

      # Network
      - type: custom:vertical-stack-in-card
        cards:
          - type: custom:swipe-card
            parameters:
              spaceBetween: 8
            cards:
              - type: custom:mushroom-template-card
                primary: Network
                icon: mdi:lan
                layout: horizontal
                tap_action:
                  action: navigate
                  navigation_path: network
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card {
                      --ha-card-border-width: 0;
                    }
              - type: custom:vertical-stack-in-card
                horizontal: true
                cards:
                  - type: custom:mushroom-template-card
                    primary: ""
                    secondary: ""
                    layout: vertical
                    icon: |-
                      {% if is_state(config.entity, "playing") %}
                        mdi:speaker
                      {% else %}
                        mdi:speaker
                      {% endif%}
                    entity: media_player.bluesound_biorum
                    icon_color: |-
                      {% if is_state(config.entity, "playing") %}
                        indigo
                      {% else %}
                        grey
                      {% endif%}
                    tap_action:
                      action: more-info
                    card_mod:
                      style: |
                        ha-card {
                          {% if is_state(config.entity,'playing') %}

      # Flight Tracker
      - type: custom:vertical-stack-in-card
        cards:
          - type: custom:swipe-card
            parameters:
              spaceBetween: 8
            cards:
              - type: custom:mushroom-template-card
                primary: Flight Tracker
                secondary: |
                  {{ states("sensor.flighttracker_flights_now") }} Overhead
                multiline_secondary: true
                icon: mdi:airplane
                icon_color: >-
                  {% if states("sensor.flighttracker_flights_now") | float > 0
                  %}
                    green
                  {% else %}
                    grey
                  {% endif%}
                layout: horizontal
                tap_action:
                  action: navigate
                  navigation_path: flight-tracker
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                card_mod:
                  style:
                    mushroom-state-info$: |
                      .container {
                        display: table !important;
                      }
                      .secondary {
                        display: table-cell;
                        text-align: right;
                        width: 100%;
                      }
              - type: custom:vertical-stack-in-card
                horizontal: true
                cards:
                  - type: custom:mushroom-template-card
                    primary: |
                      {{ states(config.entity) }}
                    secondary: |
                      {{ state_attr(config.entity, 'distance') | round(2) }} km
                    layout: horizontal
                    icon: mdi:airplane
                    entity: sensor.plane_overhead
                    tap_action:
                      action: more-info

      # Tamworth
      - type: custom:mushroom-template-card
        primary: Weather
        secondary: ""
        multiline_secondary: true
        icon: mdi:weather-cloudy-alert
        icon_color: grey
        layout: horizontal
        tap_action:
          action: navigate
          navigation_path: weather
        hold_action:
          action: none
        double_tap_action:
          action: none
        card_mod:
          style:
            mushroom-state-info$: |
              .container {
                display: table !important;
              }
              .secondary {
                display: table-cell;
                text-align: right;
                width: 100%;
              }

---
type: vertical-stack
cards:
  - type: custom:state-switch
    entity: mediaquery
    states:
      "(min-width: 801px)":
        type: "custom:button-card"
        template: header_card_no_link
        variables:
          name: HACS Updates
        view_layout:
          grid-column: 1/-1
  - type: custom:mushroom-chips-card
    chips:
      - type: template
        icon: mdi:web
        icon_color: blue
        content: Changelog
        tap_action:
          action: url
          url_path: https://github.com/hacs/integration/releases
      - type: template
        entity: update.hacs_update
        content: Installed v{{ state_attr('update.hacs_update', 'installed_version') }}
        icon_color: green
        icon: mdi:package-variant-closed
        tap_action:
          action: none
      - type: template
        entity: update.hacs_update
        content: Latest v{{ state_attr('update.hacs_update', 'latest_version') }}
        icon_color: orange
        icon: mdi:package-variant-closed
        tap_action:
          action: none
  - type: entities
    card_mod:
      style:
        fold-entity-row$: |
          ha-icon {
            background: none !important;
            margin-right: 24px !important;
            --toggle-icon-width: 21px !important;
            color: rgb(var(--rgb-disabled-color));
          }
        .: |
          .card-content {
            padding: 0;
          }
    entities:
      - type: custom:fold-entity-row
        head:
          type: custom:mushroom-template-card
          icon: mdi:update
          primary: HACS - Updates
          secondary: >
            Count: {{expand(integration_entities('hacs')) | selectattr('domain', 'eq', 'update') | selectattr('state', 'eq', 'on') | list | count }}
          card_mod:
            style: |
              ha-card {
                background: none;
                --ha-card-box-shadow: 0px;
              }
          icon_color: orange
          tap_action:
            action: toggle
        padding: 0
        entities:
          - type: custom:auto-entities
            filter:
              include:
                - domain: update
                  integration: hacs
                  state: "on"
                  options:
                    type: custom:mushroom-update-card
                    show_buttons_control: true
                    layout: horizontal
                    entities:
                      - this.entity_id
                    card_mod:
                      style: |
                        ha-card {
                          background: none;
                          padding: 4px 16px !important;
                          --ha-card-box-shadow: 0px;
                        }
            card:
              type: custom:layout-card
              cards: []
              layout_type: masonry
            sort:
              method: friendly_name
        card_mod:
          style: |
            :host {
              --ha-card-border-width: 0;
              --ha-card-background: none;
              --ha-card-box-shadow: 0;
            }
  - type: entities
    card_mod:
      style:
        fold-entity-row$: |
          ha-icon {
            background: none !important;
            margin-right: 24px !important;
            --toggle-icon-width: 21px !important;
            color: rgb(var(--rgb-disabled-color));
          }
        .: |
          .card-content {
            padding: 0;
          }
    entities:
      - type: custom:fold-entity-row
        head:
          type: custom:mushroom-template-card
          icon: mdi:update
          primary: HACS - No Updates
          secondary: >
            Count: {{expand(integration_entities('hacs')) | selectattr('domain', 'eq', 'update') | selectattr('state', 'eq', 'off') | list | count }}
          card_mod:
            style: |
              ha-card {
                background: none;
                --ha-card-box-shadow: 0px;
              }
          icon_color: green
          tap_action:
            action: toggle
        padding: 0
        entities:
          - type: custom:auto-entities
            filter:
              include:
                - domain: update
                  integration: hacs
                  state: "off"
                  options:
                    type: custom:mushroom-update-card
                    show_buttons_control: true
                    layout: horizontal
                    entities:
                      - this.entity_id
                    card_mod:
                      style: |
                        ha-card {
                          background: none;
                          padding: 4px 16px !important;
                          --ha-card-box-shadow: 0px;
                        }
            card:
              type: custom:layout-card
              cards: []
              layout_type: masonry
            sort:
              method: friendly_name
        card_mod:
          style: |
            :host {
              --ha-card-border-width: 0;
              --ha-card-background: none;
              --ha-card-box-shadow: 0;
            }

# https://github.com/Nerwyn/material-rounded-theme
# A theme made to emulate Google's Material You design for Android and Chrome OS
# Modified from the Graphite theme
# Uses card-mod to change the header to the footer, disable the selection bar, and enable header icon coloring
Material Rounded:
    modes:
        dark:
            # Token colors
            token-color-primary: rgb(0, 74, 118)
            token-color-accent: rgb(194, 231, 254)
            token-color-feedback-info: rgb(138, 208, 248)
            token-color-feedback-warning: rgb(244,180,0)
            token-color-feedback-error: rgb(229, 97, 128)
            token-color-feedback-success: rgb(93, 193, 145)
            token-color-icon-primary: rgb(196, 199, 197)
            token-color-icon-secondary: rgb(138, 140, 153)
            token-color-icon-sidebar: rgb(147, 149, 159)
            token-color-icon-sidebar-selected: rgb(174, 176, 183)
            token-color-text-primary: rgb(228, 228, 231)
            token-color-text-secondary: rgb(138 140 153)
            token-color-text-disabled: rgba(255, 255, 255, 0.5)
            token-color-text-sidebar-selected: rgb(214, 215, 219)
            token-color-text-sidebar: var(--token-color-text-secondary)
            token-color-text-label-badge: rgb(198, 203, 210)
            token-color-background-base: rgb(19, 19, 20)
            token-color-background-secondary: rgb(40, 42, 46)
            token-color-background-tertiary: rgb(0, 0, 0)
            token-color-background-sidebar: var(--token-color-background-toolbar)
            token-color-background-input-base: rgb(46, 48, 56)
            token-color-background-input-disabled: rgba(37, 37, 40, 0.5)
            token-color-background-label-badge: rgb(54, 55, 67)
            token-color-background-card: rgb(50, 52, 58)
            token-color-background-toolbar: rgb(45, 47, 51)
            token-color-background-skrim: rgba(0, 0, 3, 0.9)
            token-color-background-divider: var(--token-color-background-sidebar)
            token-color-background-scrollbar-thumb: rgb(46, 48, 56)
            token-color-background-label-badge-red: var(--token-color-feedback-error)
            token-color-background-label-badge-green: rgb(78, 183, 128)
            token-color-background-label-badge-blue: var(--token-color-feedback-info)
            token-color-background-label-badge-yellow: var(--token-color-feedback-warning)
            token-color-background-label-badge-grey: rgb(83, 90, 103)
            token-color-background-popup-scrim: rgba(4, 5, 7, 0.9)
            token-color-border-card: rgba(0, 0, 0, 0)

            # Feedback colors
            error-color: rgb(234 114 135)
            warning-color: rgb(255 219 117)
            success-color: rgb(118 214 152)
            info-color: rgb(39, 209, 246)

            # Inconsistent tile card CSS
            state-alarm_control_panel-disarmed-color: rgb(72, 74, 78)
            state-fan-off-color: rgb(40, 42, 46)
            state-climate-off-color: rgb(72, 74, 78)

            # Chip
            ha-chip-text-color: rgb(255 255 255)

            # Editor
            codemirror-string: rgb(119 196 229)
            codemirror-keyword: rgb(140 169 255)
            codemirror-number: rgb(255 91 29)

            # Switch
            switch-unchecked-button-color: rgba(255, 255, 255, 0.7)
            switch-unchecked-track-color: rgba(125, 128, 132, 0.4)

            # HACS
            hacs-new-color: rgb(27 153 123)
            hacs-error-color: rgb(182 46 95)

            # RGB Colors
            rgb-primary-text-color: 0, 0, 0

        light:
            # Token colors
            token-color-primary: rgb(194, 231, 254)
            token-color-accent: rgb(0, 29, 53)
            token-color-feedback-info: rgb(138, 208, 248)
            token-color-feedback-warning: rgb(244,180,0)
            token-color-feedback-error: rgb(229, 97, 128)
            token-color-feedback-success: rgb(93, 193, 145)
            token-color-icon-primary: rgb(69, 71, 70)
            token-color-icon-secondary: rgb(42, 43, 51)
            token-color-icon-sidebar: rgb(88, 89, 95)
            token-color-icon-sidebar-selected: rgb(29, 30, 32)
            token-color-text-primary: rgb(31, 31, 31)
            token-color-text-secondary: rgb(68, 71, 70)
            token-color-text-disabled: rgb(128, 128, 128)
            token-color-text-sidebar-selected: rgb(41, 40, 36)
            token-color-text-sidebar: var(--token-color-text-secondary)
            token-color-text-label-badge: rgb(198, 203, 210)
            token-color-background-base: rgb(255, 255, 255)
            token-color-background-secondary: rgb(215, 213, 209)
            token-color-background-tertiary: rgb(173, 176, 174)
            token-color-background-sidebar: var(--token-color-background-base)
            token-color-background-input-base: rgb(234, 234, 235)
            token-color-background-input-disabled: rgba(218, 218, 215, 0.5)
            token-color-background-label-badge: rgb(201, 200, 188)
            token-color-background-card: rgb(238, 243, 252)
            token-color-background-toolbar: rgb(242, 246, 252)
            token-color-background-skrim: rgba(205, 203, 197, 0.9)
            token-color-background-divider: var(--token-color-background-sidebar)
            token-color-background-scrollbar-thumb: rgb(46, 48, 56)
            token-color-background-label-badge-red: var(--token-color-feedback-error)
            token-color-background-label-badge-green: rgb(78, 183, 128)
            token-color-background-label-badge-blue: var(--token-color-feedback-info)
            token-color-background-label-badge-yellow: var(--token-color-feedback-warning)
            token-color-background-label-badge-grey: rgb(83, 90, 103)
            token-color-background-popup-scrim: rgba(4, 5, 7, 0.9)
            token-color-border-card: rgba(0, 0, 0, 0)

            # Feedback colors
            error-color: rgb(234 114 135)
            warning-color: rgb(255 219 117)
            success-color: rgb(118 214 152)
            info-color: rgb(39, 209, 246)

            # Inconsistent tile card CSS
            state-alarm_control_panel-disarmed-color: rgb(158, 158, 158)
            state-fan-off-color: rgb(158, 158, 158)
            state-climate-off-color: rgb(158, 158, 158)

            # Chip
            ha-chip-text-color: rgb(255 255 255)

            # Editor
            codemirror-string: rgb(119 196 229)
            codemirror-keyword: rgb(140 169 255)
            codemirror-number: rgb(255 91 29)

            # Switch
            switch-unchecked-button-color: rgba(255, 255, 255, 0.7)
            switch-unchecked-track-color: rgba(125, 128, 132, 0.4)

            # HACS
            hacs-new-color: rgb(27 153 123)
            hacs-error-color: rgb(182 46 95)

            # RGB Colors
            rgb-primary-text-color: 0, 0, 0

    # Opacity token
    token-opacity-ripple-hover: 0.14

    # Font token
    token-font-family-primary: Roboto, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"

    # Size tokens
    token-size-radius-small: 16px
    token-size-radius-medium: 24px
    token-size-radius-large: 28px
    token-size-radius-card: var(--token-size-radius-large)
    token-size-width-border-card: 0px
    token-size-height-slider: 4px
    token-size-font-title: 28px

    # Weight token
    token-weight-font-title: 600

    # Spacings
    horizontal-stack-card-margin: 0px 4px
    vertical-stack-card-margin: 4px 0px

    # Sizes
    paper-slider-height: var(--token-size-height-slider)
    footer-height: 80px

    # Typography
    primary-font-family: var(--token-font-family-primary)
    paper-font-common-base_-_font-family: var(--token-font-family-primary)
    paper-font-common-code_-_font-family: var(--token-font-family-primary)
    paper-font-body1_-_font-family: var(--token-font-family-primary)
    paper-font-subhead_-_font-family: var(--token-font-family-primary)
    paper-font-headline_-_font-family: var(--token-font-family-primary)
    paper-font-caption_-_font-family: var(--token-font-family-primary)
    paper-font-title_-_font-family: var(--token-font-family-primary)
    ha-card-header-font-family: var(--token-font-family-primary)
    mdc-typography-font-family: var(--token-font-family-primary)
    mdc-typography-button-font-family: var(--token-font-family-primary)
    mdc-typography-body1-font-family: var(--token-font-family-primary)
    mdc-typography-button-font-weight: var(--token-weight-font-title)

    title-font-weight: var(--token-weight-font-title)
    title-font-size: var(--token-size-font-title)

    # Text
    primary-text-color: var(--token-color-text-primary)
    secondary-text-color: var(--token-color-text-secondary)
    text-primary-color: var(--token-color-text-primary)
    text-light-primary-color: var(--token-color-text-primary)
    disabled-text-color: var(--token-color-text-disabled)

    # Main interface colors
    primary-color: var(--token-color-primary)
    dark-primary-color: var(--primary-color)
    light-primary-color: var(--primary-color)
    accent-color: var(--token-color-accent)
    divider-color: var(--token-color-background-divider)
    scrollbar-thumb-color: var(--token-color-background-scrollbar-thumb)
    mdc-theme-primary: var(--accent-color)
    mdc-theme-on-primary: var(--primary-color)

    # Background
    lovelace-background: var(--token-color-background-base)
    background-color: var(--token-color-background-base)
    primary-background-color: var(--token-color-background-base)
    secondary-background-color: var(--token-color-background-secondary)

    # Navbar
    app-header-background-color: var(--token-color-background-toolbar)
    app-header-text-color: var(--primary-text-color)
    app-header-edit-background-color: var(--token-color-background-toolbar)

    # Sidebar
    sidebar-icon-color: var(--token-color-icon-sidebar)
    sidebar-text-color: var(--sidebar-icon-color)
    sidebar-background-color: var(--token-color-background-sidebar)
    sidebar-selected-icon-color: var(--token-color-icon-sidebar-selected)
    sidebar-selected-text-color: var(--token-color-text-sidebar-selected)

    # Cards
    border-radius: var(--token-size-radius-card)
    card-background-color: var(--token-color-background-card)
    ha-card-background: var(--token-color-background-card)
    ha-card-border-radius: var(--token-size-radius-card)
    ha-card-border-color: var(--token-color-border-card)
    ha-card-border-width: var(--token-size-width-border-card)
    ha-card-border-style: none
    ha-card-border: none
    ha-card-box-shadow: none
    ha-config-card-border-radius: var(--token-size-radius-small)

    # States
    state-icon-color: var(--token-color-icon-primary)
    state-on-color: var(--token-color-feedback-success)
    state-off-color: var(--token-color-feedback-error)
    disabled-color: var(--token-color-background-tertiary)

    # Label-badge
    label-badge-text-color: var(--token-color-text-primary)
    label-badge-red: var(--token-color-background-label-badge-red)
    label-badge-blue: var(--token-color-background-label-badge-blue)
    label-badge-green: var(--token-color-background-label-badge-green)
    label-badge-yellow: var(--token-color-background-label-badge-yellow)
    label-badge-grey: var(--token-color-background-label-badge-grey)

    # Dialog
    mdc-dialog-scrim-color: var(--token-color-background-popup-scrim)

    # Slider
    paper-slider-knob-color: var(--token-color-primary)
    paper-slider-knob-start-color: var(--paper-slider-knob-color)
    paper-slider-pin-color: var(--paper-slider-knob-color)
    paper-slider-active-color: var(--paper-slider-knob-color)
    paper-slider-secondary-color: var(--light-primary-color)

    # Switch
    switch-checked-button-color: var(--primary-color)
    switch-checked-track-color: var(--switch-checked-button-color)

    # Toggles
    paper-toggle-button-checked-button-color: var(--switch-checked-button-color)
    paper-toggle-button-checked-bar-color: var(--switch-checked-track-color)
    paper-toggle-button-unchecked-button-color: var(--switch-unchecked-button-color)
    paper-toggle-button-unchecked-bar-color: var(--switch-unchecked-track-color)
    mdc-checkbox-unchecked-color: var(--token-color-icon-secondary)
    mdc-radio-unchecked-color: var(--mdc-checkbox-unchecked-color)

    # Text Fields an Dropdown
    input-background-color: var(--token-color-background-input-base)
    input-background-token-color-disabled: rgba(var(--input-background-color), 0.5)
    input-fill-color: var(--input-background-color)
    input-ink-color: var(--token-color-text-primary)
    input-label-ink-color: var(--token-color-text-primary)
    input-disabled-fill-color: var(--input-background-token-color-disabled)
    input-disabled-ink-color: var(--disabled-text-color)
    input-disabled-label-ink-color: var(--disabled-text-color)
    input-idle-line-color: var(--background-color)
    input-dropdown-icon-color: var(--secondary-text-color)
    input-hover-line-color: var(--primary-color)
    mdc-select-idle-line-color: var(--color-background-base)
    mdc-text-field-idle-line-color: var(--mdc-select-idle-line-color)

    # Editor
    code-editor-background-color: var(--token-color-background-base)
    codemirror-meta: var(--token-color-text-primary)
    codemirror-property: var(--accent-color)
    codemirror-atom: var(--codemirror-property)

    ### Card Mod theming ###
    # Turns header into a footer
    # Colors current view icon and background instead of underline
    # Spaces view icons evenly along footer
    #   - Breaks if you go to a subpage or edit mode
    #   - Fixes if you change dashboards or refreshes

    card-mod-theme: 'Material Rounded'
    card-mod-root-yaml: |
        .: |
          ha-tabs, paper-tabs {
            --paper-tabs-selection-bar-color: none !important;
            margin: 0 !important;
          }
          paper-tabs {
            height: 50%;
          }

          paper-tab.iron-selected > ha-icon[title="Locks"],
          paper-tab.iron-selected > ha-icon[title="Security"] {
            color: var(--green-color);
          }
          paper-tab.iron-selected > ha-icon[title="Lights"] {
            color: var(--yellow-color);
          }
          paper-tab.iron-selected > ha-icon[title="Climate"],
          paper-tab.iron-selected > ha-icon[title="Allergens"],
          paper-tab.iron-selected > ha-icon[title="AQI"] {
            color: var(--red-color);
          }

          paper-tab.iron-selected > ha-icon[title="Bedroom"] {
            color: var(--purple-color);
          }
          paper-tab.iron-selected > ha-icon[title="Spotify"] {
            color: rgb(29, 185, 84);
          }
          paper-tab.iron-selected > ha-icon[title="Weather"] {
            color: var(--state-sun-above_horizon-color);
          }
          paper-tab.iron-selected > ha-icon {
            width: 100%;
            max-width: 72px;
            color: var(--accent-color);
            background-color: var(--primary-color);
            border-radius: 16px;
          }
          paper-tab.iron-selected > .edit-icon {
            width: 100%;
            max-width: 72px;
            padding-left: 0;
          }
          paper-tab.iron-selected > ha-svg-icon[title="Edit view"] {
            padding-left: 8px;
          }
          paper-tab > ha-icon {
            top: -3px;
            width: 24px;
            height: 32px;
            display: inline-flex;
            justify-content: center;
            align-items: center;
            align-self: center;
            position: relative;
            transition: width 0.2s cubic-bezier(.2,0,0,1);
          }
          paper-tab {
            padding: 0;
            display: inline-flex;
            flex-direction: column;
            justify-content: space-between;
            flex: 1;
            align-content: space-between;
            justify-content: space-around;
            justify-items: stretch;
          }

          paper-tab::after {
            content: attr(aria-label);
            text-transform: none;
            text-align: center;
            position: relative;
            top: -12px;
            font-weight: normal;
          }

          #view {
            padding-top: 0 !important;
            padding-bottom: var(--footer-height) !important;
            margin: 0px 12px !important;
          }

          .edit-mode > #view {
            padding-top: calc(2*var(--footer-height)) !important;
            padding-bottom: 0 !important;
            bottom: calc(2*var(--footer-height)) !important;
            margin: 0px 12px !important;
          }

          .edit-mode {
            --app-header-edit-text-color: var(--app-header-text-color);
          }

          .edit-mode > .header > paper-tabs > paper-tab.iron-selected::after {
            position: relative;
            bottom: 12px;
          }

          .edit-mode > .header {
            height: calc(2*var(--footer-height)) !important;
          }
          
          .header {
            top: unset !important;
            bottom: 0 !important;
            height: var(--footer-height) !important;
          }

          #add-view {
            position: relative !important;
            vertical-align: top;
          }

          .toolbar {
            height: var(--footer-height) !important;
            padding: 0 !important;
          }
        ha-tabs:
          $: |
            #tabsContent.scrollable {
              width: 100% !important;
              display: flex !important;
              justify-content: space-between !important;
            }
            paper-icon-button {
              display: none !important;
            }

        paper-tabs:
          $: |
            #tabsContent.scrollable {
              width: 100% !important;
              display: flex !important;
              justify-content: space-between !important;
            }
            paper-icon-button {
              display: none !important;
            }

        paper-tab:
          $: |
            paper-ripple {
              display: none;
            }
            .tab-content {
              width: 100%
            }

        hui-masonry-view:
          $: |
            ha-fab {
              bottom: calc(2*var(--footer-height) + 4px) !important;
            }

        hui-sidebar-view:
          $: |
            ha-fab {
              bottom: calc(2*var(--footer-height) + 4px) !important;
            }

        hui-panel-view:
          $: |
            ha-fab {
              bottom: calc(2*var(--footer-height) + 4px) !important;
            }

        masonry-layout:
          $: |
            ha-fab {
              bottom: calc(2*var(--footer-height) + 4px) !important;
            }

        horizontal-layout:
          $: |
            ha-fab {
              bottom: calc(2*var(--footer-height) + 4px) !important;
            }

        vertical-layout:
          $: |
            ha-fab {
              bottom: calc(2*var(--footer-height) + 4px) !important;
            }

        grid-layout:
          $: |
            ha-fab {
              bottom: calc(2*var(--footer-height) + 4px) !important;
            }
